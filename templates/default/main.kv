#:kivy 1.8.0
#:import ListAdapter kivy.adapters.listadapter.ListAdapter
#:import Factory kivy.factory.Factory

<VentureItem>:
    orientation: "horizontal"
    size_hint: 1, None
    height: "60dp"
    Image:
        source: "templates/default/assets/coffee.png"
    BoxLayout:
        orientation: "vertical"
        Label:
            text: root.name
            text_size: self.width, None
            padding_x: '5dp'
        Label:
            text: str(root.owned)
            text_size: self.width, None
            padding_x: '5dp'
        Label:
            text: str(root.cost)
            text_size: self.width, None
            padding_x: '5dp'
        Label:
            text: "timeleft"
            text_size: self.width, None
            padding_x: '5dp'
        Label:
            text: "progressbar"
            text_size: self.width, None
            padding_x: '5dp'

<Main>:
    rows: 3
    row_default_height: "25dp"
    sm:sm #screen manager
    cash: cash

    canvas.before:
        Color:
            rgb: .133, .133, .133
        Rectangle:
            size: self.size


    BoxLayout:
        orientation: "vertical"
        height: "50dp"
        size_hint: 1, None
        BoxLayout:
            orientation: "horizontal"
            Image:
                source: "templates/default/assets/crown.png"
                size_hint: None, 1.0
                halign: "left"
            Label:
                text: "IdleVenturesCapital"
                size_hint: 1, None
                halign: "left"
                valign: "bottom"
                text_size: self.width, self.height
        BoxLayout:
            canvas.before:
                Color:
                    rgb: .333, .545, .184
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                id: cash
                bold: True
                color: .133, .133, .133, 1
                text: "$ CASH"
                size_hint: 1.0, 1.0
                halign: "center"
                text_size: self.width, self.height


    ScreenManager:
        id: sm

        Screen:
            name: "ventures"
            scroll_x: False
            scroll_y: True

            ListView:
                adapter:
                    ListAdapter(data=root.ventures, cls=Factory.VentureItem, args_converter=root.args_converter)

    GridLayout:
        cols: 4
        size_hint: 1, 0
        MenuToggleButton:
            identity: "ventures"
            size_hint_y: None
            height: "48dp"
            text: "Ventures"
            group: "menu"
            state: "down"

        MenuToggleButton:
            identity: "store"
            size_hint_y: None
            height: "48dp"
            text: "Store"
            group: "menu"

        MenuToggleButton:
            identity: "achievements"
            size_hint_y: None
            height: "48dp"
            text: "Achieve"
            group: "menu"

        MenuToggleButton:
            identity: "settings"
            size_hint_y: None
            height: "48dp"
            text: "Settings"
            group: "menu"